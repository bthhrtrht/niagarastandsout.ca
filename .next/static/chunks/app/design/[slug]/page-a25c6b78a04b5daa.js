(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{15685:function(e,t,n){Promise.resolve().then(n.bind(n,77838)),Promise.resolve().then(n.bind(n,81523)),Promise.resolve().then(n.bind(n,70049))},77838:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var l=n(57437),s=n(2265),i=e=>{let{fonts:t,onFontChange:n}=e;return(0,l.jsx)("select",{onChange:e=>{let t=e.target.value;null==n||n(t);let l=JSON.parse(localStorage.getItem("designConfig")||'{"elements":[]}');localStorage.setItem("designConfig",JSON.stringify({...l,selectedFont:t})),window.dispatchEvent(new CustomEvent("designConfigChange"))},className:"w-full p-2 bg-neutral-700 rounded",children:t.map(e=>(0,l.jsx)("option",{value:e,style:{fontFamily:e},children:e},e))})},r=e=>{let{onUpload:t}=e;return(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var n;let l=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!l)return;let s=new FileReader;s.onload=()=>{let e=s.result,n=JSON.parse(localStorage.getItem("designConfig")||'{"elements":[]}'),l=[...n.elements||[],{type:"image",src:e,x:0,y:0,width:200,height:200}];localStorage.setItem("designConfig",JSON.stringify({...n,elements:l})),window.dispatchEvent(new CustomEvent("designConfigChange")),null==t||t(e)},s.readAsDataURL(l)},className:"block w-full text-sm text-neutral-200 file:bg-neutral-700 file:text-white file:px-4 file:py-2 file:rounded"})};function o(e){let{width:t,height:n}=e,i=(0,s.useRef)(null),[r,o]=(0,s.useState)({elements:[]});return(0,s.useEffect)(()=>{let e=localStorage.getItem("designConfig");e&&o(JSON.parse(e))},[]),(0,s.useEffect)(()=>{let e=i.current;if(!e)return;let l=e.getContext("2d");l&&(l.clearRect(0,0,t,n),r.elements.forEach(e=>{if("image"===e.type){let t=new Image;t.src=e.src,t.onload=()=>l.drawImage(t,e.x,e.y,e.width,e.height)}else"text"===e.type&&(l.font="".concat(e.fontSize,"px ").concat(e.fontFamily),l.fillStyle=e.color,l.fillText(e.text,e.x,e.y))}))},[r,t,n]),window.saveDesign=()=>{localStorage.setItem("designConfig",JSON.stringify(r))},(0,l.jsx)("canvas",{ref:i,width:t,height:n,className:"bg-white"})}function a(){let[e,t]=(0,s.useState)({elements:[]}),n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=localStorage.getItem("designConfig");e&&t(JSON.parse(e));let n=()=>{let e=localStorage.getItem("designConfig");e&&t(JSON.parse(e))};return window.addEventListener("designConfigChange",n),()=>window.removeEventListener("designConfigChange",n)},[]),(0,s.useEffect)(()=>{let t=n.current;if(!t)return;let l=t.getContext("2d");l&&(l.clearRect(0,0,400,300),e.elements.forEach(e=>{if("image"===e.type){let t=new Image;t.src=e.src,t.onload=()=>l.drawImage(t,.5*e.x,.5*e.y,.5*e.width,.5*e.height)}else"text"===e.type&&(l.font="".concat(.5*e.fontSize,"px ").concat(e.fontFamily),l.fillStyle=e.color||"#ffffff",l.fillText(e.text,.5*e.x,.5*e.y))}))},[e,.5]),(0,l.jsx)("div",{className:"border border-neutral-700 bg-black p-4 rounded mt-4",children:(0,l.jsx)("canvas",{ref:n,width:400,height:300,className:"w-full h-auto"})})}function c(e){let{collectionTitle:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("section",{className:"bg-neutral-800 p-6 rounded-lg shadow-lg mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,l.jsxs)("aside",{className:"lg:w-1/4 space-y-4",children:[(0,l.jsx)(i,{fonts:["Bebas Neue","Oswald","Anton"]}),(0,l.jsx)(r,{})]}),(0,l.jsxs)("div",{className:"lg:w-3/4",children:[(0,l.jsx)(o,{width:800,height:600}),(0,l.jsx)(a,{})]})]})}),(0,l.jsx)("section",{className:"text-center mb-12",children:(0,l.jsxs)("button",{onClick:()=>{},className:"bg-yellow-400 text-neutral-900 font-bold px-6 py-3 rounded-lg hover:bg-yellow-500 transition",children:["Add Your Custom ",t," to Cart"]})})]})}},81523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let l=n(18993);function s(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return n}},70049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let l=n(57437),s=n(20544);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,s.getExpectedRequestStore)("next/dynamic css"),i=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,l.jsx)(l.Fragment,{children:i.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=15685)}),_N_E=e.O()}]);