"use strict";(()=>{var e={};e.id=925,e.ids=[925],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8338:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d});var r={};t.r(r),t.d(r,{POST:()=>u});var a=t(9303),i=t(8716),o=t(670),n=t(7070);async function u(e){try{let{email:s}=await e.json();if(!s)return n.NextResponse.json({error:"Email is required"},{status:400});let t=process.env.MAILCHIMP_API_KEY,r=process.env.MAILCHIMP_LIST_ID,a=process.env.MAILCHIMP_SERVER_PREFIX;if(!t||!r||!a)return n.NextResponse.json({error:"Missing Mailchimp configuration"},{status:500});let i=`https://${a}.api.mailchimp.com/3.0/lists/${r}/members`,o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Basic ${Buffer.from(`anystring:${t}`).toString("base64")}`},body:JSON.stringify({email_address:s,status:"subscribed"})});if(!o.ok){let e=await o.json();return n.NextResponse.json({error:e.detail||"Subscription failed"},{status:o.status})}return n.NextResponse.json({success:!0})}catch(e){return n.NextResponse.json({error:e.message||"Internal error"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/subscribe/route",pathname:"/api/subscribe",filename:"route",bundlePath:"app/api/subscribe/route"},resolvedPagePath:"/Users/thomasjacques/Desktop/SITEFIXED/shopify-headless-complete/app/api/subscribe/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:l}=p,m="/api/subscribe/route";function h(){return(0,o.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:d})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,972],()=>t(8338));module.exports=r})();